<!DOCTYPE html>
<html>
<head>
  <title>Pacientes</title>
</head>
<body>
  <h2>Listado de Pacientes</h2>
  <table border="1" id="tablaPacientes">
    <thead>
      <tr>
        <th>ID</th>
        <th>Nombre</th>
        <th>Apellido</th>
        <th>Fecha Nacimiento</th>
        <th>Sexo</th>
      </tr>
    </thead>
    <tbody></tbody>
  </table>

  <script>
    const url = 'https://aikglixnoeptwyqszmhv.supabase.co/rest/v1/detallesexamenes'; // Se quita 'pacientes'
    const headers = {
      apikey: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFpa2dsaXhub2VwdHd5cXN6bWh2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTcwODAxMzksImV4cCI6MjA3MjY1NjEzOX0.IFryEtaq6PAQ7QvdqrXNCOfrKCVzXC971gv_pPyPmQs',
      Authorization: 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFpa2dsaXhub2VwdHd5cXN6bWh2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTcwODAxMzksImV4cCI6MjA3MjY1NjEzOX0.IFryEtaq6PAQ7QvdqrXNCOfrKCVzXC971gv_pPyPmQs'
    };

    fetch(url, { headers, method : "GET" }) // Se agrega 'method : "GET"'
      .then(res => res.json())
      .then(data => { // Se comenta el siguiente cÃ³digo:
        // console.log("Datos recibidos:", data); // ðŸ‘€ Verifica en consola
        // const tbody = document.querySelector('#tablaPacientes tbody');
        // data.forEach(p => {
        //   const row = `
        //     <tr>
        //       <td>${p.pacienteid ?? 'â€”'}</td>
        //       <td>${p.nombre ?? 'â€”'}</td>
        //       <td>${p.apellido ?? 'â€”'}</td>
        //       <td>${p.fechanacimiento ?? 'â€”'}</td>
        //       <td>${p.sexo ?? 'â€”'}</td>
        //     </tr>`;
        //   tbody.innerHTML += row;
        // });
        console.log(data);
      })
      .catch(err => console.error("Error al obtener datos:", err));
  </script>
</body>
</html>